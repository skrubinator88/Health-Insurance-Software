(this["webpackJsonpclient-db-clone"]=this["webpackJsonpclient-db-clone"]||[]).push([[0],{122:function(e,t,a){},155:function(e,t,a){e.exports=a(220)},160:function(e,t,a){},161:function(e,t,a){},167:function(e,t,a){},171:function(e,t,a){},175:function(e,t){},177:function(e,t){},178:function(e,t){},179:function(e,t){},180:function(e,t){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),c=a.n(s),i=(a(160),a(161),a(9)),o=a(10),l=a(18),u=a(16),d=a(17),m=a(260),p=a(261),h=a(262),f=a(255),g=a(259),v=a(24),E=a(3),b=a.n(E),S=function(e,t){return{type:"GET_ERRORS",payload:{message:e,status:t}}},x=function(){return{type:"CLEAR_ERRORS"}},N=a(66),y=a(133),C=a(51),w={token:localStorage.getItem("token"),id:localStorage.getItem("userId"),user:null,isAuthenticated:null,isLoading:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(C.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(C.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),localStorage.setItem("userId",t.payload.userId),Object(C.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":return localStorage.removeItem("token"),localStorage.removeItem("userId"),Object(C.a)({},e,{token:null,id:null,user:null,isAuthenticated:!1});default:return e}},j={message:"",status:null},O=Object(N.c)({auth:k,error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{message:t.payload.message,status:t.payload.status};case"CLEAR_ERRORS":return{message:{},status:null};default:return e}}}),P=[y.a],I=Object(N.e)(O,{},Object(N.d)(N.a.apply(void 0,P))),A=a(72).production.api,D=function(){function e(t,a){var n=this;Object(i.a)(this,e),this.fetchPatient=function(e){return fetch("".concat(A,"/patients/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.fetchPatients=function(e,t){var a="".concat(A,"/patients/?pageLimit=15");return a=a+"&pageNo="+(e||1),t&&(a=a+"&search="+t),fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.fetchInvoices=function(e,t){var a="".concat(A,"/patients/").concat(e,"/invoices?pageLimit=15");return a=a+"&pageNo="+(t||1),fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.fetchDocuments=function(e,t){var a="".concat(A,"/patients/").concat(e,"/documents?pageLimit=15");return a=a+"&pageNo="+(t||1),fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.fetchInvoice=function(e){return fetch("".concat(A,"/invoices/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.fetchDocument=function(e){return fetch("".concat(A,"/documents/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.fetchUsers=function(e){var t="".concat(A,"/users/?pageLimit=15");return t=t+"&pageNo="+(e||1),fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))},this.store=t,this.logout=a}return Object(o.a)(e,null,[{key:"fetchUser",value:function(e,t){var a="".concat(A,"/users/").concat(e);return fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":t}}).then((function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.status,t.next=3,b.a.awrap(e.json());case 3:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 5:case"end":return t.stop()}}))}))}}]),e}(),F=a(72).production.api,T=function(){function e(t,a){Object(i.a)(this,e),this.store=t,this.logout=a}return Object(o.a)(e,[{key:"generateInvoicePDF",value:function(e,t,a,n){var r=this;return fetch("".concat(F,"/invoices/generate"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({PatientId:e,items:t,opts:a,url:n})}).then((function(e){if(403!==e.status)return e;r.store.dispatch(r.logout())}))}},{key:"postInvoice",value:function(e,t,a,n){var r=this;return fetch("".concat(F,"/invoices/new"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token},body:JSON.stringify({PatientId:e,items:t,opts:a,url:n})}).then((function(e){if(403!==e.status)return e;r.store.dispatch(r.logout())}))}},{key:"postPatient",value:function(e){var t=this;return fetch("".concat(F,"/patients/new"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token},body:JSON.stringify(e)}).then((function(e){if(403!==e.status)return e;t.store.dispatch(t.logout())}))}},{key:"postUser",value:function(e,t,a,n,r){var s=this;return fetch("".concat(F,"/users/new"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token},body:JSON.stringify({username:e,password:t,firstName:a,lastName:n,role:r})}).then((function(e){if(403!==e.status)return e;s.store.dispatch(s.logout())}))}},{key:"loginUser",value:function(e,t){return fetch("".concat(F,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e}))}}]),e}(),U=function(){return{type:"LOGOUT_SUCCESS"}},L=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(f.a,{onClick:this.props.logout,color:"inherit"},r.a.createElement(g.a,null,"exit_to_app")))}}]),t}(n.Component),R=Object(v.b)(null,{logout:U})(L),M=a(29),z=Object(m.a)((function(e){return{root:{flexGrow:1},admin:{fontSize:26},menuButton:{marginRight:e.spacing(2)},spacer:{flexGrow:1},linkWrapper:{textDecoration:"none"}}})),B=Object(v.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=z();return r.a.createElement("div",{className:t.root},r.a.createElement(p.a,{position:"static",color:"primary"},r.a.createElement(h.a,null,r.a.createElement("img",{src:"/logo.png",width:"60px"}),r.a.createElement("div",{className:t.spacer}),e.auth.user.name,"superuser"===e.auth.user.userRole?r.a.createElement(M.b,{to:"/dashboard/admin",className:t.linkWrapper},r.a.createElement(f.a,{color:"inherit"},r.a.createElement(g.a,{className:t.admin},"security"))):null,r.a.createElement(R,null))))})),H=a(26),q=a(15),W=a(221),_=a(144),G=a(263),Q=a(281),V=a(265),J=a(64),Z=a.n(J),$=a(264),X=Object(m.a)((function(e){return{customerListBox:{},customerCard:{padding:e.spacing(1,4),margin:e.spacing(1),textAlign:"left",cursor:"pointer"},cardName:{fontWeight:600},cardCode:{float:"right"},cardContents:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:14,lineHeight:1.7},container:{marginTop:e.spacing(5)},addPatient:{padding:e.spacing(1),cursor:"pointer",textDecoration:"none",backgroundColor:"#3CBC3C",color:"white"},linkWrapper:{textDecoration:"none"},addPatientIcon:{fontSize:26},addPatientText:{fontSize:25},progress:{float:"center",paddingTop:e.spacing(1)}}})),Y=function(e){var t=e.name,a=(e.code,e.streetAddress1),n=e.streetAddress2,s=e.city,c=e.state,i=e.zipCode,o=e.phone1,l=e.phone2,u=X();return r.a.createElement("div",null,r.a.createElement(W.a,{className:u.customerCard,elevation:1},r.a.createElement(_.a,{variant:"h6"},r.a.createElement("span",{className:u.cardName},t)),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("div",{className:u.cardContents},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Address1:")," ",a||"N/A"," ",r.a.createElement("br",null),r.a.createElement("b",null,"Address2:")," ",n||"N/A",r.a.createElement("br",null))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"City:")," ",s||"N/A"," ",r.a.createElement("br",null)," ",r.a.createElement("b",null,"State:")," ",c||"N/A"," ",r.a.createElement("br",null)," ",r.a.createElement("b",null,"ZipCode:")," ",i||"N/A"," ",r.a.createElement("br",null),r.a.createElement("b",null,"Telephone:")," ",o||"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Telephone 2:")," ",l||"N/A")))))},K=function(e){var t=X(),a=Object(n.useRef)(null),s=Object(n.useState)(e.hasMore),c=Object(q.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(e.patients),u=Object(q.a)(l,2),d=u[0],m=u[1];Object(n.useEffect)((function(){return o(e.hasMore),m(e.patients),document.addEventListener("wheel",p,{passive:!0}),document.addEventListener("scroll",p,{passive:!0}),function(){document.removeEventListener("scroll",p),document.removeEventListener("wheel",p)}}),[e.hasMore,e.patients]);var p=Z()((function(t){var n,r,s,c;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return");case 2:if(!(n=a.current)){t.next=11;break}if(r=n.scrollTop,s=n.clientHeight,c=n.scrollHeight,!(Math.ceil(r+s)>=c)){t.next=11;break}return t.next=11,b.a.awrap(e.loadMorePatients());case 11:case"end":return t.stop()}}))}),350);return r.a.createElement(Q.a,null,r.a.createElement(G.a,{className:t.container,maxWidth:"sm"},r.a.createElement(Q.a,{ref:a,style:{maxHeight:450,overflowY:"scroll",border:"2px solid #DCDCDC",marginTop:10,paddingBottom:60}},d.length>0?d.map((function(e,a){return r.a.createElement(M.b,{to:"/dashboard/patient/".concat(e.id),className:t.linkWrapper},r.a.createElement(Y,{name:e.name,streetAddress1:e.street1,streetAddress2:e.street2,city:e.city,state:e.state,zipCode:e.zipCode,phone1:e.telephone1,phone2:e.telephone2}))})):r.a.createElement(Q.a,null,r.a.createElement("h3",null,"Patient name does not match any records"),r.a.createElement(M.b,{to:"/dashboard/addUser",className:t.linkWrapper},r.a.createElement(W.a,{className:t.addPatient},r.a.createElement(_.a,{variant:"h4"},r.a.createElement(g.a,{className:t.addPatientIcon},"person_add")," \xa0 ",r.a.createElement("span",{className:t.addPatientText},"Add new patient"))))),e.isFetching?r.a.createElement("div",{className:t.progress},r.a.createElement($.a,null)):null)))},ee=a(291),te=a(266),ae=a(270),ne=Object(m.a)((function(e){return{margin:{margin:e.spacing(2)}}})),re=function(e){var t=e.label,a=e.placeholder,n=e.onChangeText,s=ne();return r.a.createElement("div",{className:s.margin},r.a.createElement(te.a,{direction:"row",container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(ee.a,{id:"outlined-full-width",label:t,style:{margin:8},placeholder:a,fullWidth:!0,onChange:function(e){n(e.target.value)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(g.a,null,"search"))}})))},se=(a(72).production.api,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.awrap(a.getPatients());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),null,null,[[0,5]])},a.searchPatients=Z()((function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.setState({search:e}),a.setState({patients:[]}),a.setState({page:1}),t.next=6,b.a.awrap(a.getPatients());case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]])}),400),a.getPatients=function(e){var t,n,r,s;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a.setState({isFetching:!0}),c.next=4,b.a.awrap(kt.fetchPatients(e,a.state.search));case 4:if(200!==(t=c.sent).status){c.next=14;break}return c.next=8,b.a.awrap(t.json());case 8:n=c.sent,a.setState({hasMore:a.state.patients.length<n.count}),r=Object(H.a)(a.state.patients).concat(n.rows),a.setState({patients:r}),c.next=22;break;case 14:if(400!==t.status){c.next=21;break}return c.next=17,b.a.awrap(t.json());case 17:s=c.sent,a.setState({error:s.error}),c.next=22;break;case 21:a.setState({error:"An error has occurred on the server"});case 22:a.setState({isFetching:!1}),c.next=29;break;case 25:c.prev=25,c.t0=c.catch(0),console.error(c.t0),a.setState({error:"An error has occurred"});case 29:case"end":return c.stop()}}),null,null,[[0,25]])},a.loadMore=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({page:a.state.page+1}),e.prev=1,e.next=4,b.a.awrap(a.getPatients(a.state.page));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),null,null,[[1,6]])},a.state={error:"",patients:[],search:"",page:1,hasMore:!1,isFetching:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,{maxWidth:"md"},r.a.createElement(re,{label:"Search Patients By Name",placeholder:"John Doe, Janet Doe, etc.",onChangeText:this.searchPatients}),this.state.error?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.error)):null,r.a.createElement(K,{patients:this.state.patients,hasMore:this.state.hasMore,loadMorePatients:this.loadMore,isFetching:this.state.isFetching}))}}]),t}(n.Component)),ce=a(31),ie=a(271),oe=(a(122),a(138)),le=a.n(oe),ue=a(139),de=a.n(ue),me=Object(m.a)((function(e){return{button:{margin:e.spacing(1),marginTop:e.spacing(3)},loginButton:{margin:e.spacing(1),marginTop:e.spacing(3),float:"right"},backButton:{margin:e.spacing(1),float:"left",zIndex:1e3}}})),pe=function(e){var t=e.onClick,a=me();return r.a.createElement(ie.a,{variant:"contained",color:"primary",size:"large",className:a.button,onClick:t},r.a.createElement(le.a,null)," \xa0Save")},he=function(e){var t=e.onClick,a=me();return r.a.createElement(ie.a,{variant:"contained",color:"primary",size:"large",className:a.loginButton,onClick:t},"Login")},fe=function(e){var t=e.onClick,a=e.body,n=me();return r.a.createElement(ie.a,{variant:"contained",color:"primary",size:"large",className:n.backButton,onClick:t},r.a.createElement(de.a,null)," \xa0 ",a)},ge=(a(72).production.api,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).date=new Date,a.handleSetName=function(e){a.setState({name:e.target.value})},a.handleSetStreet=function(e){a.setState({street:e.target.value})},a.handleSetStreet2=function(e){a.setState({street2:e.target.value})},a.handleSetCity=function(e){a.setState({city:e.target.value})},a.handleSetSex=function(e){a.setState({sex:e.target.value})},a.handleSetState=function(e){a.setState({state:e.target.value})},a.handleSetBirthdate=function(e){a.setState({birthdate:e.target.value})},a.handleSetZipCode=function(e){a.setState({zipCode:e.target.value})},a.handleSetPhone=function(e){a.setState({phone:e.target.value})},a.handleSetWeight=function(e){a.setState({weight:e.target.value})},a.handleSetHeight=function(e){a.setState({height:e.target.value})},a.handleSetInsuranceNo=function(e){a.setState({insuranceNo:e.target.value})},a.handleSetInsuranceType=function(e){a.setState({insuranceType:e.target.value})},a.handleSetDoctor=function(e){a.setState({doctor:e.target.value})},a.newPatient=function(){var e,t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a.setState({document:""}),r.next=4,b.a.awrap(Ot.postPatient({name:a.state.name,street:a.state.street,street2:a.state.street2,city:a.state.city,state:a.state.state,zipCode:a.state.zipCode,phone:a.state.phone,height:a.state.height,weight:a.state.weight,insuranceType:a.state.insuranceType,insuranceNo:a.state.insuranceNo,birthdate:a.state.birthdate,doctor:a.state.doctor}));case 4:if(200!==(e=r.sent).status){r.next=12;break}return r.next=8,b.a.awrap(e.json());case 8:t=r.sent,a.props.history.push("/dashboard/patient/".concat(t.id)),r.next=20;break;case 12:if(400!==e.status){r.next=19;break}return r.next=15,b.a.awrap(e.json());case 15:n=r.sent,a.setState({error:n.error}),r.next=20;break;case 19:a.setState({error:"An error has occurred on the server"});case 20:r.next=26;break;case 22:r.prev=22,r.t0=r.catch(0),console.error(r.t0),a.setState({error:"An error has occurred"});case 26:case"end":return r.stop()}}),null,null,[[0,22]])},a.state={name:"",street:"",street2:"",sex:"",city:"",state:"",zipCode:"",phone:"",height:"",weight:"",insuranceType:"",insuranceNo:"",birthdate:"",doctor:"",counter:0,submitted:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Q.a,null,r.a.createElement(fe,{onClick:function(){e.props.history.replace("/dashboard")},body:"Home"}),this.state.submitted?r.a.createElement("h1",null):r.a.createElement(te.a,{container:!0,direction:"row"},r.a.createElement(te.a,{item:!0,xs:12},r.a.createElement(G.a,{maxWidth:"md"},r.a.createElement(W.a,{className:"mainElement"},r.a.createElement(h.a,{elevation:1},r.a.createElement("h1",{className:"title"},"New Patient Form")),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("form",{className:"form-container",noValidate:!0},r.a.createElement(ee.a,{id:"patient-name",label:"Patient Name",margin:"normal",onChange:this.handleSetName,value:this.state.name,className:"nameField"}),r.a.createElement(ee.a,{id:"patient-address",label:"Street",margin:"normal",onChange:this.handleSetStreet,value:this.state.street,className:"streetField"}),r.a.createElement(ee.a,{id:"patient-address2",label:"Street 2",onChange:this.handleSetStreet2,value:this.state.street2,margin:"normal",className:"streetField"}),r.a.createElement(ee.a,{id:"patient-city",label:"City",margin:"normal",onChange:this.handleSetCity,value:this.state.city,className:"cityField"}),r.a.createElement(ee.a,{id:"patient-state",label:"State",margin:"normal",onChange:this.handleSetState,value:this.state.state,className:"addressField"}),r.a.createElement(ee.a,{id:"patient-zipcode",label:"ZipCode",margin:"normal",onChange:this.handleSetZipCode,value:this.state.zipCode,className:"addressField"}),r.a.createElement(ee.a,{id:"patient-phone",label:"Phone",margin:"normal",onChange:this.handleSetPhone,value:this.state.phone,className:"codeField"}),r.a.createElement(ee.a,{id:"patient-date-entered",label:"Date Entered",margin:"normal",disabled:!0,value:this.date.toLocaleDateString("en-US"),className:"codeField"}),r.a.createElement(ee.a,{id:"patient-sex",label:"Sex",margin:"normal",onChange:this.handleSetSex,value:this.state.sex,className:"addressField"}),r.a.createElement(ee.a,{id:"patient-birth-date",label:"Date of Birth",margin:"normal",className:"codeField",type:"date",onChange:this.handleSetBirthdate,value:this.state.birthdate,InputLabelProps:{shrink:!0}}),r.a.createElement(ee.a,{id:"patient-height",label:"Height",onChange:this.handleSetHeight,value:this.state.height,margin:"normal",className:"addressField"}),r.a.createElement(ee.a,{id:"patient-weight",label:"Weight",onChange:this.handleSetWeight,value:this.state.weight,margin:"normal",className:"addressField"}),r.a.createElement(ee.a,{id:"insurance-name",label:"Insurance Type",onChange:this.handleSetInsuranceType,value:this.state.insuranceType,margin:"normal",className:"codeField"}),r.a.createElement(ee.a,{id:"insurance-no",label:"Insurance No.",onChange:this.handleSetInsuranceNo,value:this.state.insuranceNo,margin:"normal",className:"codeField"}),r.a.createElement(ee.a,{id:"patient-doctor-name",label:"Doctor Name",onChange:this.handleSetDoctor,value:this.state.doctor,margin:"normal",className:"codeField"})),r.a.createElement(ie.a,{onClick:this.newPatient},"Submit"))))))}}]),t}(n.PureComponent)),ve=a(82),Ee=a(283),be=a(278),Se=a(107),xe=a.n(Se),Ne=a(272),ye=a(286),Ce=a(269),we=a(287),ke=a(282),je=function(e,t,a,n){var r=Object(H.a)(t);return r[e][a]=n,r},Oe=(a(167),Object(m.a)((function(e){return{customerListBox:{},customerCard:{padding:e.spacing(1,4),margin:e.spacing(1),textAlign:"left"},cardName:{fontWeight:500,fontSize:14},cardCode:{float:"right",fontSize:14},cardContents:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:14},customerList:{marginTop:e.spacing(5)},addCustomer:{padding:e.spacing(1),cursor:"pointer",textDecoration:"none"},linkWrapper:{textDecoration:"none"},addCustomerIcon:{fontSize:26},addCustomerText:{fontSize:25},itemEditButton:{float:"right",margin:2,cursor:"pointer"}}}))),Pe=function(e){var t=e.description,a=e.price,n=e.qty,s=e.part,c=e.onRemoveClick,i=e.onToggleEdit,o=e.index,l=e.isEditing,u=e.handleDescription,d=e.handlePart,m=e.handlePrice,p=e.handleQty,h=Oe();return r.a.createElement("div",null,r.a.createElement(W.a,{className:h.customerCard,elevation:1},r.a.createElement(_.a,{variant:"h6"},l?r.a.createElement("form",{noValidate:!0},r.a.createElement(ee.a,{label:"Description",margin:"normal",onChange:function(e){u(e,o)},value:t,className:"descriptionField"}),r.a.createElement(ee.a,{label:"Part No.",margin:"normal",type:"number",onChange:function(e){d(e,o)},value:s,className:"partField"})):r.a.createElement("div",null,r.a.createElement("span",{className:h.cardName},"Description:\xa0",t)," ",r.a.createElement("span",{className:h.cardCode},"Part #:",s))),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("div",{className:h.cardContents},l?r.a.createElement("form",{noValidate:!0},r.a.createElement(ee.a,{label:"Price",type:"number",margin:"normal",onChange:function(e){m(e,o)},value:a,className:"descriptionField"}),r.a.createElement(ee.a,{label:"Qty",margin:"normal",type:"number",onChange:function(e){p(e,o)},value:n,className:"qtyField"})):r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"price:")," ",a," ",r.a.createElement("br",null),r.a.createElement("b",null,"qty:")," ",n,r.a.createElement("br",null))),r.a.createElement("div",null,r.a.createElement("p",null,l?r.a.createElement(ie.a,{onClick:i},"Done"):r.a.createElement("div",null,r.a.createElement(g.a,{className:h.itemEditButton,onClick:function(){c(o)}},"highlight_off"),"\xa0",null!==i?r.a.createElement(g.a,{className:h.itemEditButton,onClick:function(e){e.preventDefault(),i(o)}},"edit"):null))))))},Ie=function(e){var t=e.items,a=e.onRemoveClick,n=e.handleDescription,s=e.handlePart,c=e.handleQty,i=e.handlePrice,o=Oe(),l=r.a.useState(null),u=Object(q.a)(l,2),d=u[0],m=u[1],p=function(e){m(d?null:e)};return r.a.createElement(Q.a,null,r.a.createElement(G.a,{className:o.customerList},t.length>0?t.map((function(e,t){return r.a.createElement(Pe,{index:t,description:e.name,price:e.price,qty:e.qty,part:e.part,onRemoveClick:a,onToggleEdit:p,isEditing:t===d,handleDescription:n,handlePart:s,handlePrice:i,handleQty:c})})):null))},Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e,t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=a.props.invoiceId,a.setState({patient:a.props.patient}),s.prev=2,s.next=5,b.a.awrap(kt.fetchInvoice(e));case 5:if(400!==(t=s.sent).status){s.next=13;break}return s.next=9,b.a.awrap(t.json());case 9:n=s.sent,a.setState({error:n.error}),s.next=21;break;case 13:if(200!==t.status){s.next=20;break}return s.next=16,b.a.awrap(t.json());case 16:r=s.sent,a.setState({invoice:r,status:r.status,items:r.items,address:r.invoiceStreet1,salesman:r.salesman}),s.next=21;break;case 20:a.setState({error:"An error occurred on the server"});case 21:s.next=27;break;case 23:s.prev=23,s.t0=s.catch(2),console.error(s.t0),a.setState({error:"An error occurred on the server"});case 27:case"end":return s.stop()}}),null,null,[[2,23]])},a.editItem=function(e,t,n){a.setState({items:je.editItem.apply(je,[e].concat(Object(H.a)(a.state.items),[t,n]))})},a.handleSetName=function(e){a.setState({name:e.target.value})},a.handleSetPrice=function(e){a.setState({price:e.target.value})},a.handleSetQty=function(e){a.setState({qty:e.target.value})},a.handleSetPart=function(e){a.setState({part:e.target.value})},a.handleEditName=function(e,t){a.editItem(t,"name",e.target.value)},a.handleEditPrice=function(e,t){a.editItem(t,"price",e.target.value)},a.handleEditQty=function(e,t){a.editItem(t,"qty",e.target.value)},a.handleEditPart=function(e,t){a.editItem(t,"part",e.target.value)},a.handleSetSalesman=function(e){a.setState({salesman:e.target.value})},a.handleSetCustomAddress=function(e){a.setState({customAddress:e.target.value.toUpperCase()})},a.handleSetAddress=function(e){"custom"===e.target.value?(a.setState({address:null}),a.setState({useCustom:!0})):(a.setState({useCustom:!1,customAddress:null}),a.setState({address:e.target.value}))},a.handleSetStatus=function(e){a.setState({status:e.target.value})},a.newItem=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:try{(e=Object(H.a)(a.state.items)).push({price:a.state.price?a.state.price:0,name:a.state.name,part:a.state.part?a.state.part:a.state.items.length+1,qty:a.state.qty?a.state.qty:0}),a.setState({items:e}),a.setState({name:"",price:"",qty:"",part:""})}catch(n){console.error(n)}case 1:case"end":return t.stop()}}))},a.updateInvoice=function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.prev=1,console.log(a.state.items),n.next=5,b.a.awrap(jt.updateInvoice(a.state.invoice.id,a.state.items,{salesman:a.state.salesman,address:a.state.address?a.state.address:a.state.customAddress,status:a.state.status,isFinal:!0}));case 5:if(400!==(e=n.sent).status){n.next=13;break}return n.next=9,b.a.awrap(e.json());case 9:t=n.sent,a.setState({error:t.error}),n.next=14;break;case 13:200===e.status?(a.setState({isLoading:!1}),a.setState({submitted:!0})):a.setState({error:"An error occurred on the server"});case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(1),console.error(n.t0),a.setState({error:"An error occurred on the server"});case 20:case"end":return n.stop()}}),null,null,[[1,16]])},a.removeItem=function(e){var t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:(t=Object(H.a)(a.state.items)).splice(e,1),a.setState({items:t});case 3:case"end":return n.stop()}}))},a.state={error:"",name:"",price:null,qty:null,part:null,salesman:null,address:null,customAddress:null,useCustom:!1,items:[],invoice:null,patient:null,counter:0,submitted:!1,document:"",submissionMessage:!1,status:"",isLoading:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,this.state.error?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.error)):null,this.state.submitted?r.a.createElement("div",null,r.a.createElement("h1",{className:"submissionMessage"},"Changes are successfully saved"),r.a.createElement(ie.a,{onClick:this.props.close},"Close")," \xa0"):r.a.createElement(G.a,null,r.a.createElement(W.a,{className:"mainElement"},r.a.createElement(h.a,{elevation:1},r.a.createElement("h1",{className:"title"},"Update Invoice")),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("form",{className:"container",noValidate:!0},r.a.createElement(ee.a,{InputLabelProps:{shrink:!0},id:"update-salesman",label:"Salesman",margin:"normal",onChange:this.handleSetSalesman,value:this.state.salesman,className:"codeField"}),this.state.patient?r.a.createElement(we.a,null,r.a.createElement(Ce.a,{htmlFor:"update-address",shrink:!0},"Choose Shipping Address"),r.a.createElement(ke.a,{className:"formControl",native:!0,onChange:this.handleSetAddress,value:this.state.address,inputProps:{name:"patient-address",id:"update-address"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"custom"},"Enter Custom Address"),this.state.patient.street1?r.a.createElement("option",{value:this.state.patient.street1},this.state.patient.street1):null,this.state.patient.street2?r.a.createElement("option",{value:this.state.patient.street2},this.state.patient.street2):null)):null,this.state.useCustom?r.a.createElement(ee.a,{InputLabelProps:{shrink:!0},id:"shipping-address",label:"Custom Shipping Address",margin:"normal",onChange:this.handleSetCustomAddress,value:this.state.customAddress,className:"codeField"}):null,r.a.createElement(we.a,null,r.a.createElement(Ce.a,{htmlFor:"update-status"},"Set Invoice Status"),r.a.createElement(ke.a,{className:"formControl",native:!0,onChange:this.handleSetStatus,value:this.state.status,inputProps:{name:"invoice-status",id:"update-status"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Order out for delivery"},"Order out for delivery"),r.a.createElement("option",{value:"Complete and delivered"},"Complete and delivered"),r.a.createElement("option",{value:"Order pending patient info"},"Order pending patient info"),r.a.createElement("option",{value:"Pending additional equipment info"},"Pending additional equipment info")))),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("br",null),r.a.createElement("span",{className:"invoiceItemTitle"},"New Invoice Item"),r.a.createElement("form",{className:"container",noValidate:!0},r.a.createElement(ee.a,{InputLabelProps:{shrink:!0},id:"update-name",label:"Description",margin:"normal",onChange:this.handleSetName,value:this.state.name,className:"nameField"}),r.a.createElement(ee.a,{InputLabelProps:{shrink:!0},id:"update-price",label:"Price($)",margin:"normal",type:"number",onChange:this.handleSetPrice,value:this.state.price,className:"addressField"}),r.a.createElement(ee.a,{InputLabelProps:{shrink:!0},id:"update-qty",label:"Qty",margin:"normal",type:"number",onChange:this.handleSetQty,value:this.state.qty,className:"addressField"}),r.a.createElement(ee.a,{InputLabelProps:{shrink:!0},id:"update-part",label:"Part No",margin:"normal",type:"number",onChange:this.handleSetPart,value:this.state.part,className:"addressField"})),r.a.createElement(ie.a,{onClick:this.newItem},"Add Item"),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("br",null),r.a.createElement(Ie,{onRemoveClick:this.removeItem,items:this.state.items,handleDescription:this.handleEditName,handlePart:this.handleEditPart,handleQty:this.handleEditQty,handlePrice:this.handleEditPrice}),r.a.createElement("div",null,r.a.createElement(ie.a,{onClick:this.props.close},"Cancel")," \xa0",r.a.createElement(ie.a,{onClick:this.updateInvoice},"Save Changes")," \xa0",this.state.isLoading?r.a.createElement($.a,{size:15,color:"primary"}):null))))}}]),t}(n.PureComponent),De=Object(m.a)((function(e){return{customerListBox:{},customerCard:{padding:e.spacing(1,4),margin:e.spacing(1),textAlign:"left"},emptyInvoices:{padding:e.spacing(1,4),margin:e.spacing(1),textAlign:"center"},cardName:{fontWeight:500,fontSize:14},cardCode:{float:"right",fontSize:14},cardContents:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:14},customerList:{marginTop:e.spacing(5)},addCustomer:{padding:e.spacing(1),cursor:"pointer",textDecoration:"none"},linkWrapper:{textDecoration:"none"},addCustomerIcon:{fontSize:26},addCustomerText:{fontSize:25},invoiceListTitle:{fontSize:24,textColor:"#696969",fontWeight:500,textAlign:"left"},listItem:{position:"relative"},progress:{float:"center",padding:e.spacing(1)},editButton:{bottom:e.spacing(2),right:e.spacing(2),position:"absolute"}}})),Fe=function(e){var t=e.patient,a=e.invoice,n=e.onClick,s=e.onClickEdit,c=e.onClose,i=e.open,o=De();return r.a.createElement("div",{className:o.listItem},r.a.createElement(ye.a,{"aria-labelledby":"customized-dialog-title",open:i===a.id},r.a.createElement(Q.a,null,r.a.createElement(Ae,{invoiceId:a.id,patient:t,close:c}))),r.a.createElement(W.a,{className:o.customerCard,elevation:1},r.a.createElement(_.a,{variant:"h6"},r.a.createElement("span",{className:o.cardName},"Patient Name:\xa0",t.name)," ",r.a.createElement("span",{className:o.cardCode},"Invoice #:",a.invoiceNo),"Complete and delivered"!==a.status?r.a.createElement(Ne.a,{variant:"round",size:"small",color:"primary",onClick:function(e){e.preventDefault(),s(a.id)},className:o.editButton},r.a.createElement(g.a,null,"edit")):null),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("div",{className:o.cardContents},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Salesman:")," ",a.salesman?a.salesman.toUpperCase():"N/A"," ",r.a.createElement("br",null),r.a.createElement("b",null,"Insurance Type:")," ",t.insuranceType?t.insuranceType.toUpperCase():"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Status:")," ",a.status?a.status.toUpperCase():"N/A")),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Date:")," ",new Date(a.date).toLocaleDateString("en-US")," ",r.a.createElement("br",null),r.a.createElement("b",null,"Parts:")," ",a.items.length))),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement(ie.a,{onClick:function(){n(a.id)}},"View Details")))},Te=function(e){var t=Object(n.useState)(e.hasMoreInvoices),a=Object(q.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(e.invoices),o=Object(q.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(""),m=Object(q.a)(d,2),p=m[0],h=m[1],f=De(),v=Object(n.useRef)(null),E=function(e){h(e)},S=function(){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return h(""),t.next=3,b.a.awrap(e.getInvoices());case 3:case"end":return t.stop()}}))};Object(n.useEffect)((function(){return c(e.hasMoreInvoices),u(e.invoices),h(""),document.addEventListener("wheel",x,{passive:!0}),document.addEventListener("scroll",x,{passive:!0}),function(){document.removeEventListener("scroll",x),document.removeEventListener("wheel",x)}}),[e.hasMoreInvoices,e.invoices]);var x=Z()((function(t){var a,n,r,c;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==s){t.next=2;break}return t.abrupt("return");case 2:if(!(a=v.current)||""===p){t.next=11;break}if(n=a.scrollTop,r=a.clientHeight,c=a.scrollHeight,!(Math.ceil(n+r)>=c)){t.next=11;break}return t.next=11,b.a.awrap(e.loadMoreInvoices());case 11:case"end":return t.stop()}}))}),350);return r.a.createElement(Q.a,null,r.a.createElement(G.a,{className:f.customerList},r.a.createElement("h1",{className:"subtitle-text"},"Invoices"),r.a.createElement(xe.a,{to:"/dashboard/patient/".concat(e.patient.id,"/addInvoice"),className:f.linkWrapper},r.a.createElement(W.a,{className:f.addCustomer},r.a.createElement(_.a,{variant:"h4"},r.a.createElement(g.a,{className:f.addCustomerIcon},"receipt")," \xa0 ",r.a.createElement("span",{className:f.addCustomerText},"Create new invoice")))),r.a.createElement(Q.a,{ref:v,style:{maxHeight:600,minHeight:200,overflow:"auto",marginTop:10}},l.length>0?l.map((function(t,a){return r.a.createElement(Fe,{patient:e.patient,invoice:t,onClick:e.onClick,onClickEdit:E,onClose:S,open:p})})):r.a.createElement(W.a,{className:f.emptyInvoices},r.a.createElement("p",null,"No Invoices Found")),e.isFetching?r.a.createElement("div",{className:f.progress},r.a.createElement($.a,null)):null)))},Ue=(a(171),a(72).production.api,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e,t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=a.props.patientId,s.prev=1,s.next=4,b.a.awrap(kt.fetchPatient(e));case 4:if(200!==(t=s.sent).status){s.next=12;break}return s.next=8,b.a.awrap(t.json());case 8:n=s.sent,a.setState({name:n.name,street:n.street1,street2:n.street2,city:n.city,state:n.state,zipCode:n.zipCode,phone:n.phone,height:n.height,weight:n.weight,insuranceType:n.insuranceType,insuranceNo:n.insuranceNo,birthdate:n.birthdate,sex:n.sex,doctor:n.doctor}),s.next=20;break;case 12:if(400!==t.status){s.next=19;break}return s.next=15,b.a.awrap(t.json());case 15:r=s.sent,a.setState({error:r.error}),s.next=20;break;case 19:a.setState({error:"An error occurred on the server"});case 20:s.next=25;break;case 22:s.prev=22,s.t0=s.catch(1),console.error(s.t0);case 25:case"end":return s.stop()}}),null,null,[[1,22]])},a.date=new Date,a.handleSetName=function(e){a.setState({name:e.target.value})},a.handleSetStreet=function(e){a.setState({street:e.target.value})},a.handleSetStreet2=function(e){a.setState({street2:e.target.value})},a.handleSetCity=function(e){a.setState({city:e.target.value})},a.handleSetSex=function(e){a.setState({sex:e.target.value})},a.handleSetState=function(e){a.setState({state:e.target.value})},a.handleSetBirthdate=function(e){a.setState({birthdate:e.target.value})},a.handleSetZipCode=function(e){a.setState({zipCode:e.target.value})},a.handleSetPhone=function(e){a.setState({phone:e.target.value})},a.handleSetWeight=function(e){a.setState({weight:e.target.value})},a.handleSetHeight=function(e){a.setState({height:e.target.value})},a.handleSetInsuranceNo=function(e){a.setState({insuranceNo:e.target.value})},a.handleSetInsuranceType=function(e){a.setState({insuranceType:e.target.value})},a.handleSetDoctor=function(e){a.setState({doctor:e.target.value})},a.updatePatient=function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.prev=1,n.next=4,b.a.awrap(jt.updatePatient(a.props.patientId,{name:a.state.name,street1:a.state.street,street2:a.state.street2,city:a.state.city,state:a.state.state,zipCode:a.state.zipCode,telephone1:a.state.phone,height:a.state.height,weight:a.state.weight,insuranceType:a.state.insuranceType,insuranceNo:a.state.insuranceNo,birthdate:a.state.birthdate,doctor:a.state.doctor,sex:a.state.sex}));case 4:if(400!==(e=n.sent).status){n.next=12;break}return n.next=8,b.a.awrap(e.json());case 8:t=n.sent,a.setState({isLoading:!1,error:t.error}),n.next=13;break;case 12:200===e.status?(a.setState({isLoading:!1}),a.setState({submitted:!0})):a.setState({error:"An error occurred on the server"});case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(1),console.error(n.t0),a.setState({error:"An error occurred on the server"});case 19:case"end":return n.stop()}}),null,null,[[1,15]])},a.state={name:"",error:"",street:"",street2:"",sex:"",city:"",state:"",zipCode:"",phone:"",height:"",weight:"",insuranceType:"",insuranceNo:"",birthdate:"",doctor:"",counter:0,submitted:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,this.state.error?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.error)):null,this.state.submitted?r.a.createElement("div",null,r.a.createElement("h1",{className:"submissionMessage"},"Changes are successfully saved"),r.a.createElement(ie.a,{onClick:this.props.close},"Close")," \xa0"):r.a.createElement(te.a,{container:!0,direction:"row"},r.a.createElement(te.a,{item:!0,xs:12},r.a.createElement(G.a,{maxWidth:"md"},r.a.createElement(W.a,{className:"mainElement"},r.a.createElement(h.a,{elevation:1},r.a.createElement("h1",{className:"title"},"Update Patient")),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("form",{className:"form-container",noValidate:!0},r.a.createElement(ee.a,{label:"Patient Name",margin:"normal",onChange:this.handleSetName,value:this.state.name,className:"nameField"}),r.a.createElement(ee.a,{label:"Street",margin:"normal",onChange:this.handleSetStreet,value:this.state.street,className:"streetField"}),r.a.createElement(ee.a,{label:"Street 2",onChange:this.handleSetStreet2,value:this.state.street2,margin:"normal",className:"streetField"}),r.a.createElement(ee.a,{label:"City",margin:"normal",onChange:this.handleSetCity,value:this.state.city,className:"cityField"}),r.a.createElement(ee.a,{label:"State",margin:"normal",onChange:this.handleSetState,value:this.state.state,className:"addressField"}),r.a.createElement(ee.a,{label:"ZipCode",margin:"normal",onChange:this.handleSetZipCode,value:this.state.zipCode,className:"addressField"}),r.a.createElement(ee.a,{label:"Phone",margin:"normal",onChange:this.handleSetPhone,value:this.state.phone,className:"codeField"}),r.a.createElement(ee.a,{label:"Sex",margin:"normal",onChange:this.handleSetSex,value:this.state.sex,className:"addressField"}),r.a.createElement(ee.a,{label:"Date of Birth",margin:"normal",className:"codeField",type:"date",onChange:this.handleSetBirthdate,value:this.state.birthdate,InputLabelProps:{shrink:!0}}),r.a.createElement(ee.a,{label:"Height",onChange:this.handleSetHeight,value:this.state.height,margin:"normal",className:"addressField"}),r.a.createElement(ee.a,{label:"Weight",onChange:this.handleSetWeight,value:this.state.weight,margin:"normal",className:"addressField"}),r.a.createElement(ee.a,{label:"Insurance Type",onChange:this.handleSetInsuranceType,value:this.state.insuranceType,margin:"normal",className:"codeField"}),r.a.createElement(ee.a,{label:"Insurance No.",onChange:this.handleSetInsuranceNo,value:this.state.insuranceNo,margin:"normal",className:"codeField"}),r.a.createElement(ee.a,{label:"Doctor Name",onChange:this.handleSetDoctor,value:this.state.doctor,margin:"normal",className:"codeField"})),r.a.createElement(ie.a,{onClick:this.props.close},"Cancel")," \xa0",r.a.createElement(ie.a,{onClick:this.updatePatient},"Save Changes"))))))}}]),t}(n.PureComponent)),Le=Object(m.a)((function(e){return{patientName:{fontSize:32,fontWeight:500,padding:e.spacing(2,2,0),textAlign:"left"},patientDetails:{textAlign:"left",fontSize:16,padding:e.spacing(2)},editButton:{bottom:e.spacing(2),right:e.spacing(5),position:"absolute"}}})),Re=function(e){var t=e.onClick,a=Le();return r.a.createElement(Ne.a,{variant:"round",size:"small",color:"primary",onClick:t,className:a.editButton},r.a.createElement(g.a,null,"edit"))},Me=function(e){var t=e.patient,a=e.getPatient,n=Le(),s=r.a.useState(!1),c=Object(q.a)(s,2),i=c[0],o=c[1];return r.a.createElement(W.a,{elevation:2},r.a.createElement(ye.a,{"aria-labelledby":"customized-dialog-title",open:i},r.a.createElement(Q.a,null,r.a.createElement(Ue,{patientId:t.id,close:function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.next=3,b.a.awrap(a(t.id));case 3:case"end":return e.stop()}}))}}))),r.a.createElement("span",{className:n.patientName},t.name),r.a.createElement("p",{className:n.patientDetails},r.a.createElement("b",null,"Address"),": ",t.street1?t.street1:"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Phone"),": ",t.telephone1?t.telephone1:"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Sex"),": ",t.sex?t.sex:"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Date of Birth"),": ",t.birthdate?new Date(t.birthdate).toLocaleDateString("en-US"):"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Height"),": ",t.height?t.height:"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Weight"),": ",t.weight?t.weight:"N/A",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Insurance Type"),": ",t.insuranceType?t.insuranceType.toUpperCase():"N/A",r.a.createElement("br",null),r.a.createElement("b",null,"Insurance #"),": ",t.insuranceNo?t.insuranceNo:"N/A"),r.a.createElement(Re,{onClick:function(){o(!0)}}))},ze=a(273),Be=a(277),He=a(276),qe=a(274),We=a(275),_e=a(88);a(213);_e.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_e.pdfjs.version,"/pdf.worker.js");var Ge=Object(m.a)((function(e){return{root:{flexGrow:1,width:"100%"},toolbar:{alignItems:"flex-start",display:"flex",flexDirection:"row"},menuButton:{color:"white"},document:{float:"center"}}})),Qe=function(e){var t=Object(n.useState)(e.document),a=Object(q.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(e.counter),o=Object(q.a)(i,2),l=(o[0],o[1]),u=Object(n.useState)(1),d=Object(q.a)(u,2),m=d[0],f=d[1],g=Ge();Object(n.useEffect)((function(){console.log(e.document),l(e.counter),c(e.document)}),[e.document,e.counter]);return r.a.createElement(Q.a,{className:g.root},r.a.createElement(p.a,{position:"static"},e.readerView?r.a.createElement(h.a,{className:g.toolbar,variant:"dense"},r.a.createElement(ie.a,{onClick:function(){m>1&&f(m-1)},className:g.menuButton},"Prev Page"),r.a.createElement("a",{href:s},r.a.createElement(ie.a,{color:"inherit",id:"print-button"},"Download Invoice")),r.a.createElement(ie.a,{onClick:function(){f(m+1)},className:g.menuButton},"Next Page")):r.a.createElement(h.a,null,e.hasSubmitted?r.a.createElement("a",{href:s},r.a.createElement(ie.a,{color:"inherit",id:"print-button"},"Download Invoice")):r.a.createElement(ie.a,{onClick:function(){e.onClick()},color:"inherit"},"Generate Preview"))),s?r.a.createElement(_e.Document,{className:g.document,onLoadError:console.error,onLoadSuccess:function(e){console.log("success")}.bind(void 0),file:s},r.a.createElement(_e.Page,{pageNumber:m,width:"550"})):null)},Ve=Object(m.a)((function(e){return{patientDetails:{textAlign:"left",fontSize:16,padding:e.spacing(2)},invoiceDate:{float:"right"}}})),Je=function(e){var t=e.invoice,a=Ve(),n=function(e,t){return e.toFixed(2)+t.toFixed(2)};return r.a.createElement(G.a,null,t.url?r.a.createElement(Qe,{document:t.url,readerView:!0}):r.a.createElement(W.a,{elevation:2},r.a.createElement("p",{className:a.patientDetails},r.a.createElement("b",null,"Invoice #"),": ",t.invoiceNum,r.a.createElement("br",null),r.a.createElement("span",{className:a.invoiceDate},r.a.createElement("b",null,"Date"),": ",new Date(t.date).toLocaleDateString("en-US")),r.a.createElement("br",null),r.a.createElement("b",null,"Salesman"),": ",t.salesman,r.a.createElement("br",null),r.a.createElement("b",null,"Insurance Type"),": ",t.insuranceType,r.a.createElement("br",null),r.a.createElement("b",null,"Type"),": ",t.type,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("br",null),r.a.createElement(ze.a,{className:a.table},r.a.createElement(qe.a,null,r.a.createElement(We.a,null,r.a.createElement(He.a,null,"Name"),r.a.createElement(He.a,{align:"right"},"Qty"),r.a.createElement(He.a,{align:"right"},"Price\xa0($)"),r.a.createElement(He.a,{align:"right"},"Amount\xa0($)"),r.a.createElement(He.a,{align:"right"},"Part #"))),r.a.createElement(Be.a,null,t.items.map((function(e){return r.a.createElement(We.a,{key:e.name},r.a.createElement(He.a,{component:"th",scope:"row"},e.name),r.a.createElement(He.a,{align:"right"},e.qty?e.qty:"N/A"),r.a.createElement(He.a,{align:"right"},e.price?e.price.toFixed(2):"N/A"),r.a.createElement(He.a,{align:"right"},e.price&&e.qty?(e.price*e.qty).toFixed(2):"N/A"),r.a.createElement(He.a,{align:"right"},e.part?e.part:"N/A"))}))),r.a.createElement(qe.a,null,r.a.createElement(We.a,null,r.a.createElement(He.a,null,"Tax %"),r.a.createElement(He.a,{align:"right"}),r.a.createElement(He.a,{align:"right"}),r.a.createElement(He.a,{align:"right"}),r.a.createElement(He.a,{align:"right"},t.taxPercent?t.taxPercent:"N/A","%"))),r.a.createElement(qe.a,null,r.a.createElement(We.a,null,r.a.createElement(He.a,null,"Grand Total"),r.a.createElement(He.a,{align:"right"}),r.a.createElement(He.a,{align:"right"}),r.a.createElement(He.a,{align:"right"}),r.a.createElement(He.a,{align:"right"},t.taxPercent&&t.qty&&t.price?function(e){if(null===e){var a=parseFloat(e.map((function(e){return(e.qty*e.price).toFixed(2)})).reduce(n));return console.log(a),(a+a*(t.taxPercent/100)).toFixed(2)}return"N/A"}(t.items):"N/A")))))))},Ze=a(83),$e=(a(214),a(58)),Xe=(a(215),function(e){var t,a=Object(n.useRef)(null),s=Object(n.useState)(!1),c=Object(q.a)(s,2),i=c[0],o=c[1],l=function(){e.disabled||a.current.click()},u=function(t){if(!e.disabled){var a=t.target.files;if(e.onFilesAdded){var n=d(a);e.onFilesAdded(n)}}},d=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t},m=function(t){t.preventDefault(),e.disabled||o(!0)},p=function(){o(!1)},h=function(t){if(t.preventDefault(),!e.disabled){var a=t.dataTransfer.files;if(e.onFilesAdded){var n=d(a);e.onFilesAdded(n)}o(!1)}};return l=l.bind(void 0),u=u.bind(void 0),m=m.bind(void 0),p=p.bind(void 0),h=h.bind(void 0),r.a.createElement("div",(t={className:"Dropzone"},Object($e.a)(t,"className","Dropzone ".concat(i?"Highlight":"")),Object($e.a)(t,"onDragOver",m),Object($e.a)(t,"onDragLeave",p),Object($e.a)(t,"onDrop",h),Object($e.a)(t,"onClick",l),Object($e.a)(t,"style",{cursor:e.disabled?"default":"pointer"}),t),r.a.createElement(g.a,{style:{fontSize:64,opacity:.3}},"cloud_upload"),r.a.createElement("input",{ref:a,className:"FileInput",type:"file",multiple:!0,onChange:u}),r.a.createElement("span",null,"Upload Files"))}),Ye=(a(216),Object(m.a)((function(e){return{ProgressBar:{width:"100%",height:8,backgroundColor:"rgb(183, 155, 229)",borderRadius:5},Progress:{backgroundColor:"rgba(103, 58, 183, 1)",height:"100%",margin:0,borderRadius:5}}}))),Ke=function(e){var t=Ye();return r.a.createElement("div",{className:t.ProgressBar},r.a.createElement("div",{className:t.Progress,style:{width:e.progress+"%"}}))},et=a(72).production,tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullyUploaded:!1,errors:[]},a.onFilesAdded=a.onFilesAdded.bind(Object(Ze.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(Ze.a)(a)),a.renderActions=a.renderActions.bind(Object(Ze.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onFilesAdded",value:function(e){this.setState((function(t){return{files:t.files.concat(e)}}))}},{key:"renderProgress",value:function(e){var t=this.state.uploadProgress[e.name];if(this.state.uploading||this.state.successfullyUploaded)return r.a.createElement("div",{className:"ProgressWrapper"},r.a.createElement(Ke,{progress:t?t.percentage:0}),r.a.createElement(g.a,{className:"CheckIcon",alt:"done",style:{opacity:t&&"done"===t.state?.5:0}},t&&"done"===t.state?"check_circle_outline":t&&"error"===t.state?"error_outline":""))}},{key:"sendRequest",value:function(e){var t=this;return new Promise((function(a,n){var r=new XMLHttpRequest,s=t;r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)a(r.response);else if(403===r.status)t.props.logout();else{var c=Object(C.a)({},s.state.uploadProgress);c[e.name]={state:"error",percentage:0},s.setState({uploadProgress:c}),n(r.statusText)}},r.upload.addEventListener("progress",(function(a){if(a.lengthComputable){var n=Object(C.a)({},t.state.uploadProgress);n[e.name]={state:"pending",percentage:a.loaded/a.total*100},t.setState({uploadProgress:n})}})),r.upload.addEventListener("load",(function(a){var n=Object(C.a)({},t.state.uploadProgress);n[e.name]={state:"done",percentage:100},t.setState({uploadProgress:n})})),r.upload.addEventListener("error",(function(a){var s=Object(C.a)({},t.state.uploadProgress);s[e.name]={state:"error",percentage:0},t.setState({uploadProgress:s}),n(r.response)}));var c=new FormData;c.append("patient-docs",e,e.name),r.open("POST","".concat(et.api,"/patients/").concat(t.props.patientId,"/newDocument")),r.setRequestHeader("x-access-token",t.props.token),r.send(c)}))}},{key:"uploadFiles",value:function(){var e,t=this;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({uploadProgress:{},uploading:!0}),e=[],this.state.files.forEach((function(a){e.push(t.sendRequest(a))})),a.prev=3,a.next=6,b.a.awrap(Promise.all(e));case 6:this.setState({successfullyUploaded:!0,uploading:!1}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(3),this.setState((function(e){return{errors:e.errors.concat([a.t0])}})),this.setState({successfullyUploaded:!0,uploading:!1});case 13:case"end":return a.stop()}}),null,this,[[3,9]])}},{key:"renderActions",value:function(){var e=this;return this.state.successfullyUploaded?r.a.createElement(ie.a,{onClick:function(){return e.setState({files:[],successfullyUploaded:!1})}},"Clear"):r.a.createElement(ie.a,{disabled:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles},"Upload")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Upload"},r.a.createElement("span",{className:"Title"},"Upload Files"),r.a.createElement("div",{className:"Content"},r.a.createElement("div",null,r.a.createElement(Xe,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullyUploaded}))),r.a.createElement("div",{className:"Files"},this.state.files.map((function(t){return r.a.createElement("div",{key:t.name,className:"Row"},r.a.createElement("span",{className:"Filename"},t.name),e.renderProgress(t))}))),this.state.errors?this.state.errors.map((function(e){return r.a.createElement("h4",{className:"error"},e)})):null,r.a.createElement("div",{className:"Actions"},this.renderActions()))}}]),t}(n.PureComponent),at=Object(v.b)((function(e){return{token:e.auth.token}}),{logout:U,clearErrors:x})(tt),nt=Object(m.a)((function(e){return{documentCard:{padding:e.spacing(1,4),margin:e.spacing(1),textAlign:"left",cursor:"pointer"},emptyInvoices:{padding:e.spacing(1,4),margin:e.spacing(1),textAlign:"center"},cardName:{fontWeight:500,fontSize:14},cardCode:{float:"right",fontSize:14},cardContents:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:14},customerList:{marginTop:e.spacing(5)},addCustomer:{padding:e.spacing(1),cursor:"pointer",textDecoration:"none"},linkWrapper:{textDecoration:"none",pointer:"cursor"},addDocumentIcon:{fontSize:26},addCustomerText:{fontSize:25},invoiceListTitle:{fontSize:24,textColor:"#696969",fontWeight:500,textAlign:"left"},progress:{float:"center",padding:e.spacing(1)},dialog:{width:"100%",display:"flex",flexDirection:"row"}}})),rt=function(e){var t=e.documentName,a=(e.documentType,e.uploadDate),n=e.id,s=e.onClick,c=nt();return r.a.createElement("div",null,r.a.createElement(W.a,{className:c.documentCard,elevation:1,onClick:function(){s(n)}},r.a.createElement("div",{className:c.cardContents},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," ",t?t.toUpperCase():"N/A",r.a.createElement("br",null))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Upload Date:")," ",a.toLocaleDateString("en-US")," ",r.a.createElement("br",null))))))},st=function(e){var t=Object(n.useState)(e.hasMoreDocuments),a=Object(q.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(e.documents),o=Object(q.a)(i,2),l=o[0],u=o[1],d=r.a.useState(!1),m=Object(q.a)(d,2),p=m[0],h=m[1],f=function(){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!1),t.next=3,b.a.awrap(e.getDocuments(e.patient.id));case 3:case"end":return t.stop()}}))},v=nt(),E=Object(n.useRef)(null);Object(n.useEffect)((function(){return c(e.hasMoreDocuments),u(e.documents),document.addEventListener("wheel",S,{passive:!0}),document.addEventListener("scroll",S,{passive:!0}),function(){document.removeEventListener("scroll",S),document.removeEventListener("wheel",S)}}),[e.hasMoreDocuments,e.documents]);var S=Z()((function(t){var a,n,r,c;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==s){t.next=2;break}return t.abrupt("return");case 2:if(!(a=E.current)){t.next=11;break}if(n=a.scrollTop,r=a.clientHeight,c=a.scrollHeight,!(Math.ceil(n+r)>=c)){t.next=11;break}return t.next=11,b.a.awrap(e.loadMore());case 11:case"end":return t.stop()}}))}),350);return r.a.createElement(Q.a,null,r.a.createElement(G.a,{className:v.customerList},r.a.createElement("h1",{className:"subtitle-text"},"Documents"),r.a.createElement(W.a,{variant:"outlined",onClick:function(){h(!0)},className:v.addCustomer},r.a.createElement(_.a,{variant:"h4"},r.a.createElement(g.a,{className:v.addDocumentIcon},"description")," \xa0 ",r.a.createElement("span",{className:v.addCustomerText},"Upload Patient Document"))),r.a.createElement(ye.a,{onClose:f,"aria-labelledby":"customized-dialog-title",open:p},r.a.createElement(Q.a,null,r.a.createElement(at,{className:v.dialog,patientId:e.patient.id}),r.a.createElement(ie.a,{autoFocus:!0,onClick:f,color:"primary"},"Cancel"))),r.a.createElement(Q.a,{ref:E,style:{maxHeight:600,minHeight:200,overflow:"auto",marginTop:10}},l.length>0?l.map((function(t,a){return r.a.createElement(rt,{onClick:e.onClick,documentName:t.documentName,uploadDate:new Date(t.createdAt),id:t.id})})):r.a.createElement(W.a,{className:v.emptyInvoices},r.a.createElement("p",null,"No Documents Found")),e.isFetching?r.a.createElement("div",{className:v.progress},r.a.createElement($.a,null)):null)))},ct=(a(217),function(e){var t=e.children,a=e.value,n=e.index,s=Object(ve.a)(e,["children","value","index"]);return r.a.createElement(_.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},s),a===n&&r.a.createElement(Q.a,null,t))}),it=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.props.match.params.id,t.next=3,b.a.awrap(a.getPatient(e));case 3:return t.next=5,b.a.awrap(a.getInvoices(e,a.state.invoicePage));case 5:return t.next=7,b.a.awrap(a.getDocuments(e,a.state.documentPage));case 7:case"end":return t.stop()}}))},a.handleChange=function(e,t){a.setState({value:t})},a.getPatient=function(e){var t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,b.a.awrap(kt.fetchPatient(e));case 3:if(200!==(t=s.sent).status){s.next=11;break}return s.next=7,b.a.awrap(t.json());case 7:n=s.sent,a.setState({patient:n}),s.next=19;break;case 11:if(400!==t.status){s.next=18;break}return s.next=14,b.a.awrap(t.json());case 14:r=s.sent,a.setState({error:r.error}),s.next=19;break;case 18:a.setState({error:"An error occurred on the server"});case 19:s.next=25;break;case 21:s.prev=21,s.t0=s.catch(0),console.error(s.t0),a.setState({error:"An error occurred on the server"});case 25:case"end":return s.stop()}}),null,null,[[0,21]])},a.getInvoices=function(e,t){var n,r,s,c;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a.setState({isFetchingInvoices:!0}),i.prev=1,i.next=4,b.a.awrap(kt.fetchInvoices(e,t));case 4:if(200!==(n=i.sent).status){i.next=14;break}return i.next=8,b.a.awrap(n.json());case 8:r=i.sent,s=a.state.page>1?Object(H.a)(a.state.invoices).concat(r.rows):r.rows,a.setState({hasMoreInvoices:s.length<r.count}),a.setState({invoices:s}),i.next=22;break;case 14:if(400!==n.status){i.next=21;break}return i.next=17,b.a.awrap(n.json());case 17:c=i.sent,a.setState({error:c.error}),i.next=22;break;case 21:a.setState({error:"An error has occurred on the server"});case 22:a.setState({isFetchingInvoices:!1}),i.next=29;break;case 25:i.prev=25,i.t0=i.catch(1),console.error(i.t0),a.setState({error:"An error has occurred"});case 29:case"end":return i.stop()}}),null,null,[[1,25]])},a.getDocuments=function(e,t){var n,r,s,c;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a.setState({isFetchingDocuments:!0}),i.prev=1,i.next=4,b.a.awrap(kt.fetchDocuments(e,t));case 4:if(200!==(n=i.sent).status){i.next=14;break}return i.next=8,b.a.awrap(n.json());case 8:r=i.sent,s=a.state.page>1?Object(H.a)(a.state.documents).concat(r.rows):r.rows,a.setState({hasMoreDocuments:s.length<r.count}),a.setState({documents:s}),i.next=22;break;case 14:if(400!==n.status){i.next=21;break}return i.next=17,b.a.awrap(n.json());case 17:c=i.sent,a.setState({error:c.error}),i.next=22;break;case 21:a.setState({error:"An error occurred on the server"});case 22:a.setState({isFetchingDocuments:!1}),i.next=29;break;case 25:i.prev=25,i.t0=i.catch(1),console.error(i.t0),a.setState({error:"An error has occurred"});case 29:case"end":return i.stop()}}),null,null,[[1,25]])},a.getInvoice=function(e){var t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,b.a.awrap(kt.fetchInvoice(e));case 3:if(200!==(t=s.sent).status){s.next=11;break}return s.next=7,b.a.awrap(t.json());case 7:n=s.sent,a.setState({invoice:n}),s.next=19;break;case 11:if(400!==t.status){s.next=18;break}return s.next=14,b.a.awrap(t.json());case 14:r=s.sent,a.setState({error:r.error}),s.next=19;break;case 18:a.setState({error:"An error has occurred on the server"});case 19:s.next=25;break;case 21:s.prev=21,s.t0=s.catch(0),console.error(s.t0),a.setState({error:"An error has occurred"});case 25:case"end":return s.stop()}}),null,null,[[0,21]])},a.getDocument=function(e){var t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,b.a.awrap(kt.fetchDocument(e));case 3:if(200!==(t=s.sent).status){s.next=11;break}return s.next=7,b.a.awrap(t.json());case 7:n=s.sent,a.setState({document:n}),s.next=19;break;case 11:if(400!==t.status){s.next=18;break}return s.next=14,b.a.awrap(t.json());case 14:r=s.sent,a.setState({error:r.error}),s.next=19;break;case 18:a.setState({error:"An error has occurred on the server"});case 19:s.next=25;break;case 21:s.prev=21,s.t0=s.catch(0),console.error(s.t0),a.setState({error:"An error has occurred"});case 25:case"end":return s.stop()}}),null,null,[[0,21]])},a.loadMoreInvoices=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({invoicePage:a.state.invoicePage+1}),e.prev=1,e.next=4,b.a.awrap(a.getInvoices(a.state.patient.id,a.state.invoicePage));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),a.setState({error:"An error occurred while fetching invoices"});case 10:case"end":return e.stop()}}),null,null,[[1,6]])},a.loadMoreDocuments=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({documentPage:a.state.documentPage+1}),e.prev=1,e.next=4,b.a.awrap(a.getDocuments(a.state.patient.id,a.state.documentPage));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),null,null,[[1,6]])},a.deselectInvoice=function(){a.setState({invoice:null})},a.deselectDocument=function(){a.setState({document:null})},a.state={error:"",patient:{},invoices:[],invoice:null,hasMoreInvoices:!1,hasMoreDocuments:!1,invoicePage:1,documentPage:1,isFetchingInvoices:!1,isFetchingDocuments:!1,document:null,documents:[],value:0,editingPatient:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(te.a,{container:!0,row:!0},r.a.createElement(te.a,{item:!0,md:5,sm:12,column:!0},r.a.createElement(fe,{onClick:function(){e.props.history.replace("/dashboard")},body:"Home"}),this.state.error?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.error)):null,r.a.createElement(G.a,{className:"patient-card"},r.a.createElement(Me,{patient:this.state.patient,getPatient:this.getPatient}))),r.a.createElement(te.a,{item:!0,md:7,sm:12},r.a.createElement(p.a,{position:"static"},r.a.createElement(Ee.a,{onChange:this.handleChange,value:this.state.value,textColor:"white","aria-label":"headers"},r.a.createElement(be.a,Object.assign({label:"Invoices"},it(0))),r.a.createElement(be.a,Object.assign({label:"Documents"},it(1))))),r.a.createElement(ct,{value:this.state.value,index:0},this.state.invoice?r.a.createElement(Q.a,null,this.state.invoice.url||this.state.invoice.items?r.a.createElement(p.a,{position:"static",variant:"dense"},r.a.createElement(h.a,null,r.a.createElement(ie.a,{color:"inherit",onClick:this.deselectInvoice},r.a.createElement(g.a,null,"chevron_left"),"Back"))):null,r.a.createElement(Je,{invoice:this.state.invoice})):r.a.createElement(Te,{onClick:this.getInvoice,invoices:this.state.invoices,hasMore:this.state.hasMoreInvoices,loadMoreInvoices:this.loadMoreInvoices,isFetching:this.state.isFetchingInvoices,patient:this.state.patient,getInvoices:this.getInvoices})),r.a.createElement(ct,{value:this.state.value,index:1},r.a.createElement(G.a,null,this.state.document?r.a.createElement(Q.a,null,r.a.createElement(p.a,{position:"static",variant:"dense"},r.a.createElement(h.a,null,r.a.createElement(ie.a,{color:"inherit",onClick:this.deselectDocument},r.a.createElement(g.a,null,"chevron_left"),"Back"))),r.a.createElement(Qe,{document:this.state.document.documentUrl,readerView:!0})):r.a.createElement(st,{getDocuments:this.getDocuments,onClick:this.getDocument,documents:this.state.documents,hasMore:this.state.hasMoreDocuments,loadMore:this.loadMoreDocuments,isFetching:this.state.isFetchingDocuments,patient:this.state.patient})))))}}]),t}(n.Component),lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e,t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=a.props.match.params.id,s.prev=1,s.next=4,b.a.awrap(kt.fetchPatient(e));case 4:if(200!==(t=s.sent).status){s.next=12;break}return s.next=8,b.a.awrap(t.json());case 8:n=s.sent,a.setState({patient:n}),s.next=20;break;case 12:if(400!==t.status){s.next=19;break}return s.next=15,b.a.awrap(t.json());case 15:r=s.sent,a.setState({error:r.error}),s.next=20;break;case 19:a.setState({error:"An error occurred on the server"});case 20:s.next=26;break;case 22:s.prev=22,s.t0=s.catch(1),console.error(s.t0),a.setState({error:"An error has occurred"});case 26:case"end":return s.stop()}}),null,null,[[1,22]])},a.handleSetName=function(e){a.setState({name:e.target.value})},a.handleSetSalesman=function(e){a.setState({salesman:e.target.value})},a.handleSetPrice=function(e){a.setState({price:e.target.value})},a.handleSetQty=function(e){a.setState({qty:e.target.value})},a.handleSetPart=function(e){a.setState({part:e.target.value})},a.handleSetCustomAddress=function(e){console.log(e.target.value),a.setState({customAddress:e.target.value.toUpperCase()})},a.handleSetAddress=function(e){"custom"===e.target.value?(a.setState({address:null}),a.setState({useCustom:!0})):(a.setState({useCustom:!1,customAddress:null}),a.setState({address:e.target.value}))},a.handleSetStatus=function(e){a.setState({status:e.target.value})},a.handleSetSubmissionScreen=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(a.generateInvoice(!0));case 2:case"end":return e.stop()}}))}),1e3),a.setState({submissionMessage:!0});case 2:case"end":return e.stop()}}))},a.newItem=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:try{(e=Object(H.a)(a.state.items)).push({price:a.state.price?a.state.price:0,name:a.state.name,part:a.state.part?a.state.part:a.state.items.length+1,qty:a.state.qty?a.state.qty:0}),a.setState({items:e}),a.setState({name:"",price:"",qty:"",part:""})}catch(n){console.error(n)}case 1:case"end":return t.stop()}}))},a.generateInvoice=function(e){var t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a.setState({document:""}),s.prev=1,console.log(a.state.items),s.next=5,b.a.awrap(Ot.generateInvoicePDF(a.state.patient.id,a.state.items,{salesman:a.state.salesman,address:a.state.address?a.state.address:a.state.customAddress,status:a.state.status,isFinal:e||!1}));case 5:if(200!==(t=s.sent).status){s.next=13;break}return s.next=9,b.a.awrap(t.json());case 9:n=s.sent,a.setState({document:n.Location,counter:a.state.counter+1}),s.next=21;break;case 13:if(400!==t.status){s.next=20;break}return s.next=16,b.a.awrap(t.json());case 16:r=s.sent,a.setState({error:r.error}),s.next=21;break;case 20:a.setState({error:"An error has occurred on the server"});case 21:s.next=27;break;case 23:s.prev=23,s.t0=s.catch(1),console.error(s.t0),a.setState({error:"An error has occurred"});case 27:case"end":return s.stop()}}),null,null,[[1,23]])},a.goBackToPatientDetail=function(){var e=a.props.match.params.id;a.props.history.replace("/dashboard/patient/".concat(e))},a.editInvoice=function(){a.setState({submissionMessage:!1})},a.postInvoice=function(){var e,t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.awrap(Ot.postInvoice(a.state.patient.id,a.state.items,{salesman:a.state.salesman,address:a.state.address?a.state.address:a.state.customAddress,status:a.state.status},a.state.document));case 3:if(200!==(e=r.sent).status){r.next=12;break}return r.next=7,b.a.awrap(e.json());case 7:t=r.sent,a.setState({submitted:!0}),a.setState({document:t.url,counter:a.state.counter+1}),r.next=20;break;case 12:if(400!==e.status){r.next=19;break}return r.next=15,b.a.awrap(e.json());case 15:n=r.sent,a.setState({error:n.error}),r.next=20;break;case 19:a.setState({error:"An error has occurred on the server"});case 20:r.next=26;break;case 22:r.prev=22,r.t0=r.catch(0),console.error(r.t0),a.setState({error:"An error has occurred"});case 26:case"end":return r.stop()}}),null,null,[[0,22]])},a.removeItem=function(e){var t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:(t=Object(H.a)(a.state.items)).splice(e,1),a.setState({items:t});case 3:case"end":return n.stop()}}))},a.state={error:"",name:"",price:null,qty:null,part:null,salesTax:null,salesman:null,insuranceType:null,insuranceNo:null,address:null,customAddress:null,useCustom:!1,items:[],patient:null,counter:0,submitted:!1,document:"",submissionMessage:!1,status:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,this.state.submitted?r.a.createElement(Qe,{counter:this.state.counter,document:this.state.document,onClick:this.generateInvoice,hasSubmitted:!0}):r.a.createElement(te.a,{container:!0,direction:"row"},r.a.createElement(te.a,{item:!0,sm:6,xs:12},this.state.patient?r.a.createElement(fe,{body:this.state.patient.name,onClick:this.goBackToPatientDetail}):null,r.a.createElement(G.a,{maxWidth:"md"},this.state.error?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.error)):null,this.state.submissionMessage?r.a.createElement(W.a,{className:"mainElement confirmationElement"},r.a.createElement("h1",{className:"confirmationMessage"},"Please review the sample invoice and go back to make changes, or confirm submission."),r.a.createElement("br",null),r.a.createElement(W.a,{className:"confirmationButton",onClick:this.editInvoice},r.a.createElement("p",{className:"fabButtonEdit"},r.a.createElement(g.a,null,"redo")," Edit Invoice")),"\xa0\xa0",r.a.createElement(W.a,{className:"confirmationButton",onClick:this.postInvoice},r.a.createElement("p",{className:"fabButtonConfirm"},r.a.createElement(g.a,null,"done")," Confirm"))):r.a.createElement(W.a,{className:"mainElement"},r.a.createElement(h.a,{elevation:1},r.a.createElement("h1",{className:"title"},"Create Invoice")),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("form",{className:"form-container",noValidate:!0},r.a.createElement(ee.a,{id:"qty",label:"Sales Tax",margin:"normal",disabled:!0,value:.06,className:"addressField"}),this.state.patient?r.a.createElement("div",null,r.a.createElement(ee.a,{id:"part",label:"Insurance Type",margin:"normal",disabled:!0,value:this.state.patient.insuranceType,className:"codeField"}),r.a.createElement(ee.a,{id:"part",label:"Insurance No.",margin:"normal",disabled:!0,value:this.state.patient.insuranceNo,className:"codeField"})):null,r.a.createElement(ee.a,{id:"part",label:"Salesman",margin:"normal",onChange:this.handleSetSalesman,value:this.state.salesman,className:"codeField"}),this.state.patient?r.a.createElement(we.a,null,r.a.createElement(Ce.a,{htmlFor:"address"},"Choose Shipping Address"),r.a.createElement(ke.a,{className:"formControl",native:!0,onChange:this.handleSetAddress,value:this.state.address,inputProps:{name:"patient-address",id:"address"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"custom"},"Enter Custom Address"),this.state.patient.street1?r.a.createElement("option",{value:this.state.patient.street1},this.state.patient.street1):null,this.state.patient.street2?r.a.createElement("option",{value:this.state.patient.street2},this.state.patient.street2):null)):null,this.state.useCustom?r.a.createElement(ee.a,{id:"address",label:"Custom Shipping Address",margin:"normal",onChange:this.handleSetCustomAddress,value:this.state.customAddress,className:"codeField"}):null,r.a.createElement(we.a,null,r.a.createElement(Ce.a,{htmlFor:"status"},"Set Invoice Status"),r.a.createElement(ke.a,{className:"formControl",native:!0,onChange:this.handleSetStatus,value:this.state.status,inputProps:{name:"invoice-status",id:"status"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Order out for delivery"},"Order out for delivery"),r.a.createElement("option",{value:"Complete and delivered"},"Complete and delivered"),r.a.createElement("option",{value:"Order pending patient info"},"Order pending patient info"),r.a.createElement("option",{value:"Pending additional equipment info"},"Pending additional equipment info")))),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("br",null),r.a.createElement("span",{className:"invoiceItemTitle"},"New Invoice Item"),r.a.createElement("form",{className:"form-container",noValidate:!0},r.a.createElement(ee.a,{id:"name",label:"Description",margin:"normal",onChange:this.handleSetName,value:this.state.name,className:"nameField"}),r.a.createElement(ee.a,{id:"price",label:"Price($)",margin:"normal",type:"number",onChange:this.handleSetPrice,value:this.state.price,className:"addressField"}),r.a.createElement(ee.a,{id:"qty",label:"Qty",margin:"normal",type:"number",onChange:this.handleSetQty,value:this.state.qty,className:"addressField"}),r.a.createElement(ee.a,{id:"part",label:"Part No",margin:"normal",type:"number",onChange:this.handleSetPart,value:this.state.part,className:"addressField"})),r.a.createElement(ie.a,{onClick:this.newItem},"Add Item"),r.a.createElement(V.a,{variant:"middle"}),r.a.createElement("br",null),r.a.createElement(Ie,{onRemoveClick:this.removeItem,items:this.state.items,handleDescription:this.handleSetName,handlePart:this.handleSetPart,handleQty:this.handleSetQty,handlePrice:this.handleSetPrice}),r.a.createElement(ie.a,{onClick:this.handleSetSubmissionScreen},"Submit Invoice")))),r.a.createElement(te.a,{item:!0,sm:6,xs:12},r.a.createElement(Qe,{counter:this.state.counter,document:this.state.document,onClick:this.generateInvoice,hasSubmitted:!1}))))}}]),t}(n.PureComponent),ut=a(222),dt=a(289),mt=a(279),pt=a(284),ht=function(e){var t=e.role,a=e.setRole,n=e.isEditing;return r.a.createElement("div",null,n?r.a.createElement(we.a,{component:"fieldset"},r.a.createElement(ut.a,{component:"legend"},"Role"),r.a.createElement(dt.a,{"aria-label":"role",name:"role",value:t,onChange:a,color:"primary"},r.a.createElement(mt.a,{value:"superuser",control:r.a.createElement(pt.a,null),disabled:!0,label:"SuperUser"}),r.a.createElement(mt.a,{value:"admin",control:r.a.createElement(pt.a,null),disabled:!n,label:"Admin"}),r.a.createElement(mt.a,{value:"basic",control:r.a.createElement(pt.a,null),disabled:!n,label:"Basic"}))):r.a.createElement("span",{className:"role-tag"},t.toUpperCase()))},ft=Object(m.a)((function(e){return{customerCard:{padding:e.spacing(1,4),margin:e.spacing(1),backgroundColor:"white",textAlign:"left"},cardName:{fontWeight:500,fontSize:14},cardCode:{float:"right",fontSize:14},cardContents:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:14},customerList:{marginTop:e.spacing(5)},addCustomer:{padding:e.spacing(1),cursor:"pointer",textDecoration:"none"},linkWrapper:{textDecoration:"none"},addCustomerIcon:{fontSize:26},addCustomerText:{fontSize:25},itemEditButton:{float:"right",margin:2,cursor:"pointer"}}})),gt=function(e){var t=e.username,a=e.password,n=e.firstName,s=e.lastName,c=e.role,i=e.onRemoveClick,o=e.onToggleEdit,l=e.handleEdit,u=e.index,d=e.isEditing,m=e.handleUsername,p=e.handlePassword,h=e.handleFirstName,f=e.handleLastName,v=e.handleRole,E=ft();return r.a.createElement("div",null,r.a.createElement("div",{className:E.customerCard},r.a.createElement(_.a,{variant:"h6"},r.a.createElement("form",{noValidate:!0},r.a.createElement(ee.a,{label:"First Name",margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){h(e,u)},value:n,InputProps:{readOnly:!d},variant:"outlined",className:"new-user-input"}),r.a.createElement(ee.a,{label:"Last Name",margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){f(e,u)},value:s,InputProps:{readOnly:!d},variant:"outlined",className:"new-user-input"}),r.a.createElement(ee.a,{label:"Username",margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){m(e,u)},value:t,InputProps:{readOnly:!d},variant:"outlined",className:"new-user-input"}),r.a.createElement(ee.a,{label:"Password",margin:"normal",InputLabelProps:{shrink:!0},onChange:function(e){p(e,u)},value:a,type:"password",InputProps:{readOnly:!d},variant:"outlined",className:"new-user-input"}),r.a.createElement("br",null),r.a.createElement(ht,{role:c,setRole:function(e){v(e,u)},isEditing:d}))),r.a.createElement("div",null,r.a.createElement("p",null,d?r.a.createElement(ie.a,{onClick:function(e){e.preventDefault(),l(u),o(u)}},"Done"):r.a.createElement("div",null,r.a.createElement(g.a,{className:E.itemEditButton,onClick:function(){i(u)}},"highlight_off"),"\xa0",null!==o?r.a.createElement(g.a,{className:E.itemEditButton,onClick:function(e){e.preventDefault(),o(u)}},"edit"):null)))))},vt=function(e){var t=e.users,a=e.onRemoveClick,n=e.handleUsername,s=e.handlePassword,c=e.handleFirstname,i=e.handleLastname,o=e.handleRole,l=e.updateUser,u=e.errorMessage,d=e.successMessage,m=ft(),p=r.a.useState(null),h=Object(q.a)(p,2),f=h[0],g=h[1],v=function(e){g(f?null:e)},E=function(e){l(e)};return r.a.createElement(Q.a,null,r.a.createElement(Q.a,{className:m.customerList},r.a.createElement("span",{className:"subtitle-text"},"Registered Users"),r.a.createElement("br",null),t.length>0?t.map((function(e,t){return r.a.createElement("div",null,u&&u.index===t?r.a.createElement("span",{className:"error-text"},u.message):null,d&&d.index===t?r.a.createElement("span",{className:"success-text"},d.message):null,r.a.createElement(gt,{index:t,username:e.username,password:e.password,firstName:e.firstName,lastName:e.lastName,role:e.role,onRemoveClick:a,onToggleEdit:v,handleEdit:E,isEditing:t===f,handleUsername:n,handlePassword:s,handleFirstName:c,handleLastName:i,handleRole:o}))})):r.a.createElement("span",{class:"empty-container-text"},"No users found")))},Et=(a(218),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.awrap(a.getUsers());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),null,null,[[0,5]])},a.getUsers=function(){var e,t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(kt.fetchUsers());case 2:if(200!==(e=r.sent).status){r.next=10;break}return r.next=6,b.a.awrap(e.json());case 6:t=r.sent,a.setState({users:t}),r.next=11;break;case 10:400===e.status?(n=e.json(),a.setState({errors:{listHeader:n.error}})):a.setState({errors:{listHeader:"An error occurred on the server"}});case 11:case"end":return r.stop()}}))},a.createNewUser=function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({errors:{newUser:""},success:{newUser:""}}),n.prev=1,n.next=4,b.a.awrap(Ot.postUser(a.state.username,a.state.password,a.state.firstName,a.state.lastName,a.state.role));case 4:if(400!==(e=n.sent).status){n.next=12;break}return n.next=8,b.a.awrap(e.json());case 8:t=n.sent,a.setState({errors:{newUser:t.error}}),n.next=19;break;case 12:if(200!==e.status){n.next=18;break}return a.setState({firstName:"",lastName:"",username:"",password:"",role:"",success:{newUser:"User successfully saved"}}),n.next=16,b.a.awrap(a.getUsers());case 16:n.next=19;break;case 18:a.setState({errors:{newUser:"An error occurred on the server"}});case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(1),console.error(n.t0),a.setState({errors:{newUser:"An error has occurred"}});case 25:case"end":return n.stop()}}),null,null,[[1,21]])},a.updateUser=function(e){var t,n,r,s;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a.setState({errors:{currentUser:""},success:{currentUser:""}}),c.prev=1,t=a.state.users[e],c.next=5,b.a.awrap(jt.updateUser(t.id,{firstName:t.firstName,lastName:t.lastName,password:t.password,role:t.role}));case 5:if(200!==(n=c.sent).status){c.next=10;break}a.setState({success:{currentUser:{message:"User successfully updated",index:e}}}),c.next=26;break;case 10:if(400!==n.status){c.next=17;break}return c.next=13,b.a.awrap(n.json());case 13:r=c.sent,a.setState({errors:{currentUser:{message:r.error,index:e}}}),c.next=26;break;case 17:if(401!==n.status){c.next=25;break}return c.next=20,b.a.awrap(n.json());case 20:s=c.sent,a.setState({errors:{currentUser:{message:s.error,index:e}}}),setTimeout((function(){a.props.history.goBack()}),2e3),c.next=26;break;case 25:a.setState({errors:{currentUser:{message:"An error occurred on the server",index:e}}});case 26:c.next=32;break;case 28:c.prev=28,c.t0=c.catch(1),console.log(c.t0),a.setState({errors:{currentUser:{message:"An error has occurred",index:e}}});case 32:case"end":return c.stop()}}),null,null,[[1,28]])},a.deleteUser=function(e){var t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.setState({errors:{listHeader:""},success:{listHeader:""}}),r.prev=1,t=a.state.users[e],r.next=5,b.a.awrap(jt.deleteUser(t.id));case 5:return 200===(n=r.sent).status&&a.setState({success:{listHeader:"User successfully deleted"}}),500===n.status&&a.setState({errors:{listHeader:"An error occurred on the server"}}),r.next=10,b.a.awrap(a.getUsers());case 10:r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0),a.setState({errors:{listHeader:"An error has occurred. Please try again"}});case 16:case"end":return r.stop()}}),null,null,[[1,12]])},a.editItem=function(e,t,n){a.setState({users:je.editItem(e,a.state.users,t,n),errors:{currentUser:""},success:{currentUser:""}})},a.handleSetFirstName=function(e){a.setState({firstName:e.target.value})},a.handleSetLastName=function(e){a.setState({lastName:e.target.value})},a.handleSetUsername=function(e){a.setState({username:e.target.value})},a.handleSetPassword=function(e){a.setState({password:e.target.value})},a.handleSetRole=function(e){a.setState({role:e.target.value})},a.handleEditFirstName=function(e,t){a.editItem(t,"firstName",e.target.value)},a.handleEditLastName=function(e,t){a.editItem(t,"lastName",e.target.value)},a.handleEditUsername=function(e,t){a.editItem(t,"username",e.target.value)},a.handleEditPassword=function(e,t){a.editItem(t,"password",e.target.value)},a.handleEditRole=function(e,t){a.editItem(t,"role",e.target.value)},a.state={firstName:"",lastName:"",username:"",password:"",role:"",users:[],errors:{listHeader:"",newUser:"",currentUser:""},success:{listHeader:"",newUser:"",currentUser:""}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Q.a,null,r.a.createElement(fe,{onClick:function(){e.props.history.replace("/dashboard")},body:"Home"}),r.a.createElement(te.a,{container:!0,direction:"column"},r.a.createElement(te.a,{item:!0,xs:12},r.a.createElement("div",{className:"activity-container"},r.a.createElement("span",{className:"title-text"},"Users"),r.a.createElement("br",null),r.a.createElement("span",{className:"subtitle-text"},"Add new User"),r.a.createElement("br",null),this.state.errors.newUser?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.errors.newUser)):null,this.state.success.newUser?r.a.createElement("div",null,r.a.createElement("span",{className:"success-text"},this.state.success.newUser)):null,r.a.createElement("form",{noValidate:!0},r.a.createElement(ee.a,{label:"First Name",margin:"normal",onChange:this.handleSetFirstName,value:this.state.firstName,variant:"outlined",className:"new-user-input"}),r.a.createElement(ee.a,{label:"Last Name",margin:"normal",onChange:this.handleSetLastName,value:this.state.lastName,variant:"outlined",className:"new-user-input"}),r.a.createElement(ee.a,{label:"Username",InputLabelProps:{shrink:!0},margin:"normal",onChange:this.handleSetUsername,value:this.state.username,variant:"outlined",autoComplete:"new-password",className:"new-user-input"}),r.a.createElement(ee.a,{label:"Password",InputLabelProps:{shrink:!0},margin:"normal",autoComplete:"new-password",onChange:this.handleSetPassword,value:this.state.password,type:"password",variant:"outlined",className:"new-user-input"}),r.a.createElement("br",null),r.a.createElement(ht,{role:this.state.role,setRole:this.handleSetRole,isEditing:!0}),r.a.createElement(pe,{onClick:this.createNewUser})),r.a.createElement(V.a,{variant:"middle",style:{margin:10}}),this.state.errors.listHeader?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.errors.listHeader)):null,this.state.success.listHeader?r.a.createElement("div",null,r.a.createElement("span",{className:"success-text"},this.state.success.listHeader)):null,r.a.createElement(vt,{errorMessage:this.state.errors.currentUser,successMessage:this.state.success.currentUser,users:this.state.users,handlePassword:this.handleEditPassword,handleUsername:this.handleEditUsername,handleFirstname:this.handleEditFirstName,handleLastname:this.handleEditLastName,handleRole:this.handleEditRole,updateUser:this.updateUser,onRemoveClick:this.deleteUser}))),r.a.createElement(te.a,{item:!0,xs:12},r.a.createElement("div",{className:"activity-container"}))))}}]),t}(n.PureComponent)),bt=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(M.a,null,r.a.createElement(Q.a,null,r.a.createElement(B,null),r.a.createElement(ce.Switch,null,r.a.createElement(ce.Route,{exact:!0,path:"/dashboard",component:se}),r.a.createElement(ce.Route,{exact:!0,path:"/dashboard/addUser",component:ge}),r.a.createElement(ce.Route,{exact:!0,path:"/dashboard/patient/:id",component:ot}),r.a.createElement(ce.Route,{exact:!0,path:"/dashboard/patient/:id/addInvoice",component:lt}),r.a.createElement(ce.Route,{exact:!0,path:"/dashboard/admin",component:Et}))))}}]),t}(n.Component),St=(a(219),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSetPassword=function(e){e.preventDefault(),a.setState({password:e.target.value})},a.handleSetUsername=function(e){e.preventDefault(),a.setState({username:e.target.value})},a.onSubmit=function(e){var t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),t=a.state,n=t.username,r=t.password,s.next=4,b.a.awrap(a.props.login({username:n,password:r}));case 4:a.props.isAuthenticated&&a.props.history.push("/dashboard");case 5:case"end":return s.stop()}}))},a.state={username:"",password:"",error:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error;t.isAuthenticated;a!==e.error&&(a.status?this.setState({error:a.message}):this.setState({error:""}))}},{key:"render",value:function(){return r.a.createElement(G.a,{maxWidth:"md",className:"container"},r.a.createElement("img",{src:"/logo.png",width:100,id:"login-logo"}),r.a.createElement("span",{className:"title-text"},"Login User"),r.a.createElement("br",null),r.a.createElement(W.a,{className:"login-container"},this.state.error?r.a.createElement("div",null,r.a.createElement("span",{className:"error-text"},this.state.error),r.a.createElement("br",null)):null,r.a.createElement("form",{noValidate:!0},r.a.createElement(ee.a,{label:"Username",margin:"normal",onChange:this.handleSetUsername,value:this.state.username,autoComplete:"new-password",variant:"outlined",className:"input"}),r.a.createElement("br",null),r.a.createElement(ee.a,{label:"Password",margin:"normal",autoComplete:"new-password",onChange:this.handleSetPassword,value:this.state.password,type:"password",variant:"outlined",className:"input"}),r.a.createElement("br",null),r.a.createElement(he,{className:"login-button",onClick:this.onSubmit}))))}}]),t}(n.Component)),xt=Object(v.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var t=e.username,a=e.password;return function(e){var n,r,s;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,b.a.awrap(Ot.loginUser(t,a));case 3:if(200!==(n=c.sent).status){c.next=11;break}return c.next=7,b.a.awrap(n.json());case 7:r=c.sent,e({type:"LOGIN_SUCCESS",payload:r}),c.next=21;break;case 11:if(400!==n.status){c.next=19;break}return c.next=14,b.a.awrap(n.json());case 14:s=c.sent,e(S(s.error,n.status)),e({type:"LOGIN_FAIL"}),c.next=21;break;case 19:e(S("An error occurred on the server",n.status)),e({type:"LOGIN_FAIL"});case 21:c.next=27;break;case 23:c.prev=23,c.t0=c.catch(0),e(S("An error has occurred",400)),e({type:"LOGIN_FAIL"});case 27:case"end":return c.stop()}}),null,null,[[0,23]])}},clearErrors:x})(St),Nt=Object(ce.withRouter)(Object(v.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),null,null,{pure:!1})((function(e){var t=e.component,a=e.isAuthenticated,n=Object(ve.a)(e,["component","isAuthenticated"]);return r.a.createElement(ce.Route,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(ce.Redirect,{to:{pathname:"/",state:{from:e.location}}})}}))}))),yt=a(72).production.api,Ct=function(){function e(t,a){Object(i.a)(this,e),this.store=t,this.logout=a}return Object(o.a)(e,[{key:"updateInvoice",value:function(e,t,a){var n=this;return fetch("".concat(yt,"/invoices/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token},body:JSON.stringify({items:t,opts:a})}).then((function(e){if(403!==e.status)return e;n.store.dispatch(n.logout())}))}},{key:"updatePatient",value:function(e,t){var a=this;return fetch("".concat(yt,"/patients/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token},body:JSON.stringify(t)}).then((function(e){if(403!==e.status)return e;a.store.dispatch(a.logout())}))}},{key:"updateUser",value:function(e,t){var a=this;return fetch("".concat(yt,"/users/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token},body:JSON.stringify(t)}).then((function(e){if(403!==e.status)return e;a.store.dispatch(a.logout())}))}},{key:"deleteUser",value:function(e){var t=this;return fetch("".concat(yt,"/users/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","x-access-token":I.getState().auth.token}}).then((function(e){if(403!==e.status)return e;t.store.dispatch(t.logout())}))}}]),e}(),wt=Object(ce.withRouter)(Object(v.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),null,null,{pure:!1})((function(e){var t=e.component,a=e.isAuthenticated,n=Object(ve.a)(e,["component","isAuthenticated"]);return r.a.createElement(ce.Route,Object.assign({},n,{render:function(e){return a?r.a.createElement(ce.Redirect,{to:{pathname:"/dashboard",state:{from:e.location}}}):r.a.createElement(t,e)}}))}))),kt=new D(I,U),jt=new Ct(I,U),Ot=new T(I,U);var Pt=function(){return Object(n.useEffect)((function(){})),r.a.createElement(v.a,{store:I},r.a.createElement(M.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ce.Switch,null,r.a.createElement(wt,{path:"/",exact:!0,component:xt}),r.a.createElement(Nt,{path:"/dashboard",component:bt})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var It=a(142),At=a(280),Dt=a(140),Ft=a.n(Dt),Tt=a(141),Ut=a.n(Tt),Lt=Object(It.a)({palette:{primary:Ft.a,secondary:Ut.a},status:{danger:"orange"}});c.a.render(r.a.createElement(At.a,{theme:Lt},r.a.createElement(Pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e){e.exports=JSON.parse('{"production":{"api":"https://PROFESSIONALHOMEMEDICALSTAGINGAPI.XYZ"},"development":{"api":"http://127.0.0.1:3001"}}')},92:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=92}},[[155,1,2]]]);